#include <IRremote.h>
#include "Adafruit_SSD1306.h"
#include "SHT1x.h"

//unsigned int rawCodes_ac_24[199] = {4500,4400,600,1600,550,550,550,1650,550,1650,550,500,600,500,600,1600,550,550,550,550,550,1650,550,500,600,500,600,1600,550,1650,550,500,600,1650,550,1600,600,500,550,550,550,1650,550,1650,550,1600,600,1600,550,1650,550,500,600,1600,600,1600,600,500,550,550,550,550,550,550,550,500,600,500,600,1600,600,500,550,550,550,550,550,550,550,500,600,500,600,1600,600,500,550,1650,550,1650,550,1600,600,1600,600,1600,550,1650,550,5250,4500,4400,600,1600,600,500,550,1650,550,1650,550,500,600,500,600,1600,600,500,550,550,550,1650,550,500,600,500,600,1600,600,1600,550,550,550,1650,550,1600,600,500,600,500,600,1600,550,1650,550,1600,600,1600,600,1600,550,550,550,1650,550,1600,600,500,600,500,550,550,550,550,550,550,550,500,600,1600,600,500,600,500,550,550,550,550,550,550,550,500,600,1600,600,500,600,1600,550,1650,550,1650,550,1600,600,1600,550,1650,550};
//unsigned int rawCodes_ac_28[199] = {4450,4450,550,1600,600,500,600,1600,600,1600,550,550,550,550,550,1600,600,500,600,500,600,1600,550,550,550,550,550,1650,550,1600,600,500,600,1600,550,1650,550,500,600,500,600,1600,600,1600,550,1650,550,1650,550,1600,600,500,600,1600,550,1650,550,500,600,500,600,500,600,500,600,500,550,1650,550,500,600,500,600,550,550,500,600,500,600,500,550,550,550,550,550,1650,550,1650,550,1600,600,1600,550,1650,550,1650,550,1600,600,5250,4450,4450,550,1650,550,500,600,1650,550,1600,600,500,550,550,550,1650,550,500,600,500,600,1600,600,500,550,550,550,1650,550,1650,550,500,600,1600,600,1600,550,550,550,500,600,1650,550,1600,600,1600,550,1650,550,1650,550,500,600,1600,550,1650,550,550,550,500,600,500,600,500,600,500,600,1600,550,550,550,550,550,500,600,500,600,500,600,500,600,500,600,500,550,1650,550,1650,550,1600,600,1600,550,1650,550,1650,550,1600,600};
//unsigned int rawCodes_ac_29[199] = {4500,4400,600,1600,550,550,550,1650,550,1650,550,500,600,500,600,1600,550,550,550,550,550,1650,550,500,600,500,600,1600,550,1650,550,500,600,1650,550,1600,600,500,550,550,550,1650,550,1650,550,1600,600,1600,550,1650,550,500,600,1600,600,1600,600,500,550,550,550,550,550,550,550,500,550,1650,550,550,550,1650,550,550,550,550,550,550,550,500,600,500,550,550,550,1650,550,550,550,1650,550,1600,600,1600,600,1600,550,1650,550,5250,4500,4400,600,1600,550,550,550,1650,550,1650,550,500,600,500,600,1600,550,550,550,550,550,1650,550,500,600,500,600,1600,550,1650,550,500,600,1650,550,1600,600,500,550,550,550,1650,550,1650,550,1600,600,1600,550,1650,550,500,600,1600,600,1600,600,500,550,550,550,550,550,550,550,500,550,1650,550,550,550,1650,550,550,550,550,550,550,550,500,600,500,550,550,550,1650,550,550,550,1650,550,1600,600,1600,600,1600,550,1650,550};

IRsend irsend;
Adafruit_SSD1306 oled;

#if (SSD1306_LCDHEIGHT != 64)
#error("Height incorrect, please fix Adafruit_SSD1306.h!");
#endif

#define dataPin 10
#define clockPin 11
SHT1x sht1x(dataPin, clockPin);

float temp;
float temp_f;
float humidity;

void display()
{
  oled.clearDisplay();
 
  oled.setTextSize(1);
  oled.setTextColor(WHITE);
  oled.setCursor(0,8);
  oled.print("Temperature:");
  oled.setTextSize(2);
  oled.setCursor(0,16);
  oled.print(temp);
  oled.setTextSize(1);
  oled.setCursor(66,16);
  oled.print("C ");
  oled.setCursor(78,16);
  oled.print(temp_f);
  oled.setCursor(108,16);
  oled.print("F");
 
  oled.setCursor(0,40);
  oled.println("Humidity:");
 
  oled.setTextSize(2);
  oled.setCursor(0,48);
  oled.println(humidity);
  oled.setCursor(60,48);
  oled.print("%");
 
  oled.display();
}

void setup()
{
  oled.begin(SSD1306_SWITCHCAPVCC, 0x78);
  oled.clearDisplay();   
  oled.setTextColor(WHITE);

  // IR send
  // irsend.sendMidea(0xb24d9f6040bfLL, 48);
  // delay(4000);
  // irsend.sendMidea(0xb24d9f60807fLL, 48);
  // delay(4000);
  // irsend.sendMidea(0xb24d9f60a05fLL, 48);
}

void loop()
{
  // Read values from the sensor
  temp = sht1x.readTemperatureC();
  temp_f = sht1x.readTemperatureF();
  humidity = sht1x.readHumidity();

  display();
  delay(500);
}
